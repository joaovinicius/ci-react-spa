import{c as j,j as e,a as i,B as f,b as P,r as h,u as N,L as V,O as g}from"./index-CBzID-ur.js";import{D as w,d as y,a as C,b as k,c as T,e as _,f as H}from"./dialog-oavPRQOG.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],L=j("square-pen",I);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],O=j("trash",M);function S({className:t,...s}){return e.jsxDEV("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsxDEV("table",{"data-slot":"table",className:i("w-full caption-bottom text-sm",t),...s},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:11,columnNumber:7},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:7,columnNumber:5},this)}function q({className:t,...s}){return e.jsxDEV("thead",{"data-slot":"table-header",className:i("[&_tr]:border-b",t),...s},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:22,columnNumber:5},this)}function B({className:t,...s}){return e.jsxDEV("tbody",{"data-slot":"table-body",className:i("[&_tr:last-child]:border-0",t),...s},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:32,columnNumber:5},this)}function x({className:t,...s}){return e.jsxDEV("tr",{"data-slot":"table-row",className:i("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:55,columnNumber:5},this)}function m({className:t,...s}){return e.jsxDEV("th",{"data-slot":"table-head",className:i("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:68,columnNumber:5},this)}function u({className:t,...s}){return e.jsxDEV("td",{"data-slot":"table-cell",className:i("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:81,columnNumber:5},this)}function $({className:t,...s}){return e.jsxDEV("caption",{"data-slot":"table-caption",className:i("text-muted-foreground mt-4 text-sm",t),...s},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/ui/table.tsx",lineNumber:97,columnNumber:5},this)}function z({children:t,open:s,title:o,description:n,onOpenChange:d,onConfirm:a,variant:c}){return e.jsxDEV(w,{onOpenChange:d,open:s,children:[e.jsxDEV(y,{asChild:!0,children:e.jsxDEV(f,{variant:c,children:t},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:38,columnNumber:9},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:37,columnNumber:7},this),e.jsxDEV(C,{children:[e.jsxDEV(k,{children:[e.jsxDEV(T,{children:o},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:42,columnNumber:11},this),e.jsxDEV(_,{children:n},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:41,columnNumber:9},this),e.jsxDEV(H,{children:e.jsxDEV(f,{type:"submit",onClick:a,children:"Confirm"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:46,columnNumber:11},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:45,columnNumber:9},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/confirm-dialog.tsx",lineNumber:33,columnNumber:5},this)}function A(){const t=P(),s=Number(t.tenantId),[o,n]=h.useState(0),[d,a]=h.useState(!1),{data:c,refetch:b,invalidate:v}=N.useGet("/users/tenant/:tenantId",{keys:[s],params:{tenantId:s}}),{mutate:p}=N.useDelete("/users/:id",{keys:[o],params:{id:o}});function D(r,l){r&&l?(n(l),a(!0)):(n(0),a(!1))}function E(){p(void 0,{onSuccess:async()=>{await b(),n(0),a(!1)}})}return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(S,{children:[e.jsxDEV($,{children:"Lista de usuários"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:49,columnNumber:9},this),e.jsxDEV(q,{children:e.jsxDEV(x,{children:[e.jsxDEV(m,{className:"w-[100px]",children:"#"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:52,columnNumber:13},this),e.jsxDEV(m,{children:"Nome"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:53,columnNumber:13},this),e.jsxDEV(m,{children:"Permissão"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:54,columnNumber:13},this),e.jsxDEV(m,{className:"text-right"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:55,columnNumber:13},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:51,columnNumber:11},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:50,columnNumber:9},this),e.jsxDEV(B,{children:c==null?void 0:c.map(r=>e.jsxDEV(x,{children:[e.jsxDEV(u,{className:"font-medium",children:r.id},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:61,columnNumber:15},this),e.jsxDEV(u,{children:r.name},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:62,columnNumber:15},this),e.jsxDEV(u,{children:r.role},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:63,columnNumber:15},this),e.jsxDEV(u,{className:"text-right",children:e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV(f,{variant:"ghost",asChild:!0,children:e.jsxDEV(V,{to:`/admin/${s}/user/${r.id}/edit`,children:e.jsxDEV(L,{},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:68,columnNumber:23},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:67,columnNumber:21},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:66,columnNumber:19},this),e.jsxDEV(z,{open:d&&o===r.id,title:"Excluir usuário?",description:"Tem certeza que deseja excluir este usuário?",onOpenChange:l=>D(l,r.id),onConfirm:E,variant:"ghost",children:e.jsxDEV(O,{},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:79,columnNumber:21},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:71,columnNumber:19},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:65,columnNumber:17},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:64,columnNumber:15},this)]},r.id,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:60,columnNumber:13},this))},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:58,columnNumber:9},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:48,columnNumber:7},this),e.jsxDEV(g,{context:{invalidate:v}},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:87,columnNumber:7},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/user/index.tsx",lineNumber:47,columnNumber:5},this)}export{A as ListUser};
