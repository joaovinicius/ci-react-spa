import{r as j,u as v,j as e,I as n,B as l,s as p}from"./index-mY46qgd_.js";import{D as x,a as b,b as D,c as E}from"./dialog-Chuv6-jk.js";import{u as P,a as V,L as r}from"./label-Bh3tKdp0.js";function g({initialData:u,onSuccess:m}){const[i,o]=j.useState(""),d={domain:"",name:"",status:"draft",org_id:1,config:{},...u},{mutate:f,isPending:c}=v.useMutation("post","/tenants",void 0,{onSuccess:()=>{m&&m(),console.log("done")},onError:a=>{o(a.message||"Error submitting form")}}),{register:s,handleSubmit:N,formState:{errors:t}}=P({resolver:V(p.TenantInput),defaultValues:d}),h=a=>{o(""),f(a)};return e.jsxDEV("form",{onSubmit:N(h),className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(r,{htmlFor:"name",children:"Name"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:61,columnNumber:9},this),e.jsxDEV(n,{id:"name",type:"text",placeholder:"Awesome Tenant",...s("name"),"aria-invalid":!!t.name},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:62,columnNumber:9},this),t.name&&e.jsxDEV("p",{className:"text-sm text-red-500",children:t.name.message},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:60,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{htmlFor:"domain",children:"Domain"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:75,columnNumber:9},this),e.jsxDEV(n,{id:"domain",type:"text",placeholder:"example.com",...s("domain"),"aria-invalid":!!t.domain},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:76,columnNumber:9},this),t.domain&&e.jsxDEV("p",{className:"text-sm text-red-500",children:t.domain.message},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:74,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{htmlFor:"status",children:"Status"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:89,columnNumber:9},this),e.jsxDEV(n,{id:"status",type:"text",placeholder:"draft | published | archived",...s("status"),"aria-invalid":!!t.status},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:90,columnNumber:9},this),t.status&&e.jsxDEV("p",{className:"text-sm text-red-500",children:t.status.message},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:88,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{htmlFor:"org_id",children:"Organization ID"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:103,columnNumber:9},this),e.jsxDEV(n,{id:"org_id",type:"number",...s("org_id",{valueAsNumber:!0}),"aria-invalid":!!t.org_id},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:104,columnNumber:9},this),t.org_id&&e.jsxDEV("p",{className:"text-sm text-red-500",children:t.org_id.message},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:102,columnNumber:7},this),i&&e.jsxDEV("div",{className:"text-center text-sm text-red-500",children:i},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV(l,{variant:"outline",type:"button",onClick:()=>o(""),children:"Cancel"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:122,columnNumber:9},this),e.jsxDEV(l,{type:"submit",disabled:c,children:c?"Saving...":"Save Tenant"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:125,columnNumber:9},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:121,columnNumber:7},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/components/tenant-form.tsx",lineNumber:59,columnNumber:5},this)}function _(){return e.jsxDEV(x,{defaultOpen:!0,children:e.jsxDEV(b,{className:"sm:max-w-[425px]",children:[e.jsxDEV(D,{children:e.jsxDEV(E,{children:"Criar site"},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/tenant/create.tsx",lineNumber:9,columnNumber:11},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/tenant/create.tsx",lineNumber:8,columnNumber:9},this),e.jsxDEV("div",{className:"grid gap-4",children:e.jsxDEV(g,{},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/tenant/create.tsx",lineNumber:12,columnNumber:11},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/tenant/create.tsx",lineNumber:11,columnNumber:9},this)]},void 0,!0,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/tenant/create.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/home/jv/Projects/ci-react-spa/src/frontend/views/tenant/create.tsx",lineNumber:6,columnNumber:5},this)}export{_ as CreateTenant};
